<Window x:Class="SrPInstaller.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SrP-CFG å®‰è£…å™¨" Height="650" Width="700"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0" Text="SrP-CFG å®‰è£…å™¨" FontSize="22" FontWeight="Bold"
                   Margin="0,0,0,20" HorizontalAlignment="Left"/>

        <!-- Options -->
        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <CheckBox x:Name="InstallCfgCheckBox" IsChecked="True" Content="å®‰è£… CFG æ–‡ä»¶ï¼ˆå…¨å±€é…ç½®ï¼‰" />
            <Grid Margin="25,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="ç›®æ ‡è·¯å¾„:" VerticalAlignment="Center" FontSize="12"/>
                <TextBox Grid.Column="1" Text="{Binding Cs2CfgPath, Mode=OneWay}" IsReadOnly="True" TextWrapping="Wrap"
                         Height="30" VerticalContentAlignment="Center"/>
            </Grid>

            <CheckBox x:Name="InstallVideoCheckBox" IsChecked="True" Content="å®‰è£…è§†é¢‘é…ç½®æ–‡ä»¶ï¼ˆcs2_video.txtï¼‰" />
            <Grid Margin="25,0,0,5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="100"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="Steam ç”¨æˆ·:" VerticalAlignment="Center" FontSize="12"/>
                <ComboBox x:Name="SteamUserComboBox" Grid.Row="0" Grid.Column="1" SelectionChanged="SteamUserComboBox_SelectionChanged"
                          Height="30"/>
                <Button x:Name="RefreshUsersButton" Grid.Row="0" Grid.Column="2" Content="åˆ·æ–°" Padding="5"
                        Click="RefreshUsersButton_Click" Height="30"/>

                <TextBlock Grid.Row="1" Grid.Column="0" Text="ç›®æ ‡è·¯å¾„:" VerticalAlignment="Center" FontSize="12" Margin="0,5,0,0"/>
                <TextBox Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Text="{Binding VideoCfgPath, Mode=OneWay}" IsReadOnly="True"
                         TextWrapping="Wrap" Height="30" VerticalContentAlignment="Center" Margin="0,5,0,0"/>
            </Grid>

            <!-- å¤‡ä»½ä½ç½®æ˜¾ç¤º -->
            <Grid Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="å¤‡ä»½ä½ç½®:" VerticalAlignment="Center" FontSize="12" FontWeight="Bold"/>
                <TextBox Grid.Column="1" x:Name="BackupLocationTextBox" IsReadOnly="True" TextWrapping="Wrap"
                         Height="30" VerticalContentAlignment="Center" Text="å®‰è£…å‰å°†è‡ªåŠ¨å¤‡ä»½è‡³ cfg_backup.zip"/>
            </Grid>
        </StackPanel>

        <!-- Drag & Drop Area -->
        <GroupBox Grid.Row="2" Header="æ–‡ä»¶é€‰æ‹©" Margin="0,0,0,15">
            <Grid Margin="10">
                <Border x:Name="DropZoneBorder" BorderBrush="#CCCCCC" BorderThickness="2"
                        Background="#FAFAFA" CornerRadius="5" Padding="20" Height="80"
                        AllowDrop="True" Drop="DropZone_Drop" DragOver="DropZone_DragOver"
                        DragLeave="DropZone_DragLeave">
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ“ å°† ZIP æˆ– CFG/TXT æ–‡ä»¶æ‹–æ”¾åˆ°æ­¤å¤„" FontSize="14"
                                   HorizontalAlignment="Center" Foreground="#666666"/>
                        <TextBlock x:Name="SelectedFileTextBlock" Text="" FontSize="12"
                                   HorizontalAlignment="Center" Foreground="#0078D4" Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>
        </GroupBox>

        <!-- Log Output -->
        <GroupBox Grid.Row="3" Header="æ—¥å¿—è¾“å‡º">
            <TextBox x:Name="LogTextBox" IsReadOnly="True" VerticalScrollBarVisibility="Auto"
                     TextWrapping="Wrap" FontFamily="Consolas" FontSize="11" Background="#FAFAFA"/>
        </GroupBox>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button x:Name="InstallButton" Content="å¼€å§‹å®‰è£…" Click="InstallButton_Click"
                    Background="#0078D4" Foreground="White" BorderBrush="#005A9E"/>
        </StackPanel>

        <!-- Status Bar -->
        <StatusBar Grid.Row="5">
            <StatusBarItem>
                <TextBlock x:Name="StatusTextBlock" Text="å°±ç»ª"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
